<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>rRPMM - An accessor for RIKEN Plant Metabolome Metadatabase (RPMM) â€¢ rRPMM</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="rRPMM - An accessor for RIKEN Plant Metabolome Metadatabase (RPMM)">
<meta property="og:description" content="rRPMM">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rRPMM</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.99.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/rRPMM.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="rRPMM_files/htmlwidgets-1.5.1/htmlwidgets.js"></script><script src="rRPMM_files/plotly-binding-4.9.2.1/plotly.js"></script><script src="rRPMM_files/typedarray-0.1/typedarray.min.js"></script><script src="rRPMM_files/jquery-1.11.3/jquery.min.js"></script><link href="rRPMM_files/crosstalk-1.1.0.1/css/crosstalk.css" rel="stylesheet">
<script src="rRPMM_files/crosstalk-1.1.0.1/js/crosstalk.min.js"></script><link href="rRPMM_files/plotly-htmlwidgets-css-1.52.2/plotly-htmlwidgets.css" rel="stylesheet">
<script src="rRPMM_files/plotly-main-1.52.2/plotly-latest.min.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>rRPMM - An accessor for RIKEN Plant Metabolome Metadatabase (RPMM)</h1>
                        <h4 class="author">Atsushi Fukushima</h4>
            <address class="author_afil">
      RIKEN CSRS<br><a class="author_email" href="mailto:#"></a><a href="mailto:afukushima@gmail.com" class="email">afukushima@gmail.com</a>
      </address>
                  
            <h4 class="date">2020-05-25</h4>
      
      
      <div class="hidden name"><code>rRPMM.Rmd</code></div>

    </div>

    
    
<div id="introduction" class="section level1">
<h1 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h1>
<p><a href="http://metabobank.riken.jp/">RIKEN Plant Metabolome MetaDatabase (RPMM)</a> is used to provide integrated plant metabolome data generated by RIKEN. The database provides data in the bases of standardized metadata techniques including semantic web and Resource Description Framework (RDF). The rRPMM package is an accessor for RPMM.</p>
</div>
<div id="installation" class="section level1">
<h1 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h1>
<div class="sourceCode" id="cb1"><html><body><pre class="r"><span class="co"># devtools::install_github("afukushima/rRPMM", build_vignettes = TRUE)</span></pre></body></html></div>
</div>
<div id="usage" class="section level1">
<h1 class="hasAnchor">
<a href="#usage" class="anchor"></a>Usage</h1>
<div class="sourceCode" id="cb2"><html><body><pre class="r"><span class="co"># suppressPackageStartupMessages(library(SPARQL))</span>
<span class="co"># suppressPackageStartupMessages(library(rRPMM))</span>
<span class="co"># suppressPackageStartupMessages(library(plotly))</span>
<span class="co"># suppressPackageStartupMessages(library(dplyr))</span>
<span class="co"># Sys.setenv(LANGUAGE="en_US.UTF-8") </span>

<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">SPARQL</span>)</pre></body></html></div>
<pre><code>## Loading required package: XML</code></pre>
<pre><code>## Loading required package: RCurl</code></pre>
<div class="sourceCode" id="cb5"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">rRPMM</span>)
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">plotly</span>)</pre></body></html></div>
<pre><code>## Loading required package: ggplot2</code></pre>
<pre><code>## 
## Attaching package: 'plotly'</code></pre>
<pre><code>## The following object is masked from 'package:ggplot2':
## 
##     last_plot</code></pre>
<pre><code>## The following object is masked from 'package:stats':
## 
##     filter</code></pre>
<pre><code>## The following object is masked from 'package:graphics':
## 
##     layout</code></pre>
<div class="sourceCode" id="cb11"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">dplyr</span>)</pre></body></html></div>
<pre><code>## 
## Attaching package: 'dplyr'</code></pre>
<pre><code>## The following objects are masked from 'package:stats':
## 
##     filter, lag</code></pre>
<pre><code>## The following objects are masked from 'package:base':
## 
##     intersect, setdiff, setequal, union</code></pre>
<div class="sourceCode" id="cb15"><html><body><pre class="r"><span class="no">res</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/RPMM_numOfprojects_species.html">RPMM_numOfprojects_species</a></span>()
<span class="no">resMat</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span>(<span class="st">"@en"</span>, <span class="st">""</span>, <span class="no">res</span>$<span class="no">speciesLabel</span>), <span class="no">res</span>$<span class="no">callret.4</span>)
<span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span>(<span class="no">resMat</span>) <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"Species"</span>, <span class="st">"num"</span>)

<span class="co">## for pie chart with plotly</span>
<span class="no">resMat_1over</span> <span class="kw">&lt;-</span> <span class="no">resMat</span>[<span class="no">resMat</span>$<span class="no">num</span><span class="kw">&gt;</span><span class="fl">1</span>, ]
<span class="no">resMat_others</span> <span class="kw">&lt;-</span> <span class="no">resMat</span>[<span class="no">resMat</span>$<span class="no">num</span><span class="kw">==</span><span class="fl">1</span>, ]
<span class="no">others</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="st">"Others"</span>, <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span>(<span class="no">resMat_others</span>$<span class="no">num</span>))
<span class="no">resMatfin</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html">rbind</a></span>(<span class="no">resMat_1over</span>, <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span>(<span class="kw">Species</span><span class="kw">=</span><span class="st">"others"</span>, <span class="kw">num</span><span class="kw">=</span><span class="st">"28"</span>))

<span class="no">p</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/plotly/man/plot_ly.html">plot_ly</a></span>(<span class="no">resMatfin</span>, <span class="kw">labels</span> <span class="kw">=</span> ~<span class="no">Species</span>, <span class="kw">values</span> <span class="kw">=</span> ~<span class="no">num</span>, <span class="kw">type</span> <span class="kw">=</span> <span class="st">'pie'</span>) <span class="kw">%&gt;%</span>
    <span class="fu"><a href="https://rdrr.io/pkg/plotly/man/layout.html">layout</a></span>(<span class="kw">title</span> <span class="kw">=</span> <span class="st">'RPMM projects (Feb 26, 2020)'</span>,
        <span class="kw">xaxis</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="kw">showgrid</span> <span class="kw">=</span> <span class="fl">FALSE</span>, <span class="kw">zeroline</span> <span class="kw">=</span> <span class="fl">FALSE</span>,
                        <span class="kw">showticklabels</span> <span class="kw">=</span> <span class="fl">FALSE</span>),
        <span class="kw">yaxis</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="kw">showgrid</span> <span class="kw">=</span> <span class="fl">FALSE</span>, <span class="kw">zeroline</span> <span class="kw">=</span> <span class="fl">FALSE</span>,
                        <span class="kw">showticklabels</span> <span class="kw">=</span> <span class="fl">FALSE</span>))
<span class="no">p</span></pre></body></html></div>
<div id="htmlwidget-6bcb1d8a436cc39ce304" style="width:700px;height:432.632880098888px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-6bcb1d8a436cc39ce304">{"x":{"visdat":{"1293463a71b1":["function () ","plotlyVisDat"]},"cur_data":"1293463a71b1","attrs":{"1293463a71b1":{"labels":{},"values":{},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"pie"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"RPMM projects (Feb 26, 2020)","xaxis":{"showgrid":false,"zeroline":false,"showticklabels":false},"yaxis":{"showgrid":false,"zeroline":false,"showticklabels":false},"hovermode":"closest","showlegend":true},"source":"A","config":{"showSendToCloud":false},"data":[{"labels":["\"Daucus carota\"","\"Glycine max\"","\"Solanum peruvianum\"","\"Dicksonia antarctica\"","\"Capsicum annuum\"","\"Glycyrrhiza uralensis\"","\"Lotus japonicus\"","\"Ophiorrhiza pumila\"","\"Medicago truncatula\"","\"Brassica oleracea\"","\"Lactuca sativa\"","\"Chlamydomonas reinhardtii\"","\"Petroselinum crispum\"","\"Hevea brasiliensis\"","\"Cosmos bipinnatus\"","\"Brassica rapa\"","\"Jatropha curcas\"","\"Spinacia oleracea\"","\"Solanum melongena\"","\"Solanum pennellii\"","\"Arabidopsis thaliana\"","\"Synechocystis sp. PCC 6803\"","\"Oryza sativa\"","\"Solanum habrochaites\"","\"Cucurbita maxima\"","\"Glycyrrhiza glabra\"","\"Allium tuberosum\"","\"Solanum lycopersicum\"","\"Solanum pimpinellifolium\"","\"Allium fistulosum\"","\"Allium cepa\"","others"],"values":["2","5","4","2","2","2","7","2","3","7","3","2","2","3","2","2","3","7","3","2","40","2","11","2","2","2","2","26","4","2","3","28"],"type":"pie","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(255,255,255,1)"}},"frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="getting-all-the-raw-data-files-in-a-project-accession-rpmm0001" class="section level1">
<h1 class="hasAnchor">
<a href="#getting-all-the-raw-data-files-in-a-project-accession-rpmm0001" class="anchor"></a>Getting all the raw data files in a Project (Accession #: RPMM0001)</h1>
<div class="sourceCode" id="cb16"><html><body><pre class="r"><span class="no">res</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/RPMM_get_rawdata_files.html">RPMM_get_rawdata_files</a></span>(<span class="kw">project</span> <span class="kw">=</span> <span class="st">"RPMM0001"</span>)
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(<span class="no">res</span>$<span class="no">url</span>)</pre></body></html></div>
<pre><code>## [1] "\"http://metabobank.riken.jp/data/RPMM0001/RawDataset/L_01_1.cdf\"^^&lt;http://www.w3.org/2001/XMLSchema#anyURI&gt;"
## [2] "\"http://metabobank.riken.jp/data/RPMM0001/RawDataset/L_02_1.cdf\"^^&lt;http://www.w3.org/2001/XMLSchema#anyURI&gt;"
## [3] "\"http://metabobank.riken.jp/data/RPMM0001/RawDataset/L_03_1.cdf\"^^&lt;http://www.w3.org/2001/XMLSchema#anyURI&gt;"
## [4] "\"http://metabobank.riken.jp/data/RPMM0001/RawDataset/L_04_1.cdf\"^^&lt;http://www.w3.org/2001/XMLSchema#anyURI&gt;"
## [5] "\"http://metabobank.riken.jp/data/RPMM0001/RawDataset/L_05_1.cdf\"^^&lt;http://www.w3.org/2001/XMLSchema#anyURI&gt;"
## [6] "\"http://metabobank.riken.jp/data/RPMM0001/RawDataset/L_06_1.cdf\"^^&lt;http://www.w3.org/2001/XMLSchema#anyURI&gt;"</code></pre>
</div>
<div id="session-information" class="section level1 unnumbered">
<h1 class="hasAnchor">
<a href="#session-information" class="anchor"></a>Session information</h1>
<pre><code>## R version 4.0.0 (2020-04-24)
## Platform: x86_64-apple-darwin17.0 (64-bit)
## Running under: macOS Catalina 10.15.4
## 
## Matrix products: default
## BLAS:   /Library/Frameworks/R.framework/Versions/4.0/Resources/lib/libRblas.dylib
## LAPACK: /Library/Frameworks/R.framework/Versions/4.0/Resources/lib/libRlapack.dylib
## 
## locale:
## [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
## 
## attached base packages:
## [1] stats     graphics  grDevices utils     datasets  methods   base     
## 
## other attached packages:
## [1] dplyr_0.8.5      plotly_4.9.2.1   ggplot2_3.3.0    rRPMM_0.99.0    
## [5] SPARQL_1.16      RCurl_1.98-1.2   XML_3.99-0.3     BiocStyle_2.17.0
## 
## loaded via a namespace (and not attached):
##  [1] Rcpp_1.0.4.6        pillar_1.4.4        compiler_4.0.0     
##  [4] BiocManager_1.30.10 bitops_1.0-6        tools_4.0.0        
##  [7] digest_0.6.25       viridisLite_0.3.0   jsonlite_1.6.1     
## [10] evaluate_0.14       memoise_1.1.0       lifecycle_0.2.0    
## [13] tibble_3.0.1        gtable_0.3.0        pkgconfig_2.0.3    
## [16] rlang_0.4.6         crosstalk_1.1.0.1   yaml_2.2.1         
## [19] pkgdown_1.5.1.9000  xfun_0.14           httr_1.4.1         
## [22] withr_2.2.0         stringr_1.4.0       knitr_1.28         
## [25] htmlwidgets_1.5.1   vctrs_0.3.0         desc_1.2.0         
## [28] fs_1.4.1            tidyselect_1.1.0    rprojroot_1.3-2    
## [31] grid_4.0.0          data.table_1.12.8   glue_1.4.1         
## [34] R6_2.4.1            rmarkdown_2.1       bookdown_0.19      
## [37] tidyr_1.1.0         purrr_0.3.4         magrittr_1.5       
## [40] backports_1.1.7     scales_1.1.1        htmltools_0.4.0    
## [43] ellipsis_0.3.1      MASS_7.3-51.5       assertthat_0.2.1   
## [46] colorspace_1.4-1    stringi_1.4.6       lazyeval_0.2.2     
## [49] munsell_0.5.0       crayon_1.3.4</code></pre>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Atsushi Fukushima.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.9000.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
